# UC-2.7 日記關鍵字設定

| 項目 | 內容 |
|------|------|
| **填表人** | 李芝瑢 |
| **商業流程編號** | UC-2.7 |
| **行為者** | 會員 |
| **內容概述** | 使用者在新增或編輯日記時,可設定自訂關鍵字標籤,便於後續搜尋、分類與統計分析。此功能為 UC-2.1(新增日記)與 UC-2.2(編輯日記)的子流程。 |
| **先決條件** | 使用者已登入帳號,正在新增或編輯日記。 |
| **後置條件** | 關鍵字標籤儲存至 diary_tags 資料表(tag_type = 'keyword'),與該日記建立關聯。 |
| **主要流程** | 1. 使用者在日記編輯介面的「標籤」區域輸入關鍵字。<br>2. 使用者可輸入多個關鍵字,以逗號或 Enter 鍵分隔(如「工作, 壓力, 週末」)。<br>3. 系統即時顯示已輸入的標籤 chip,使用者可點擊 × 刪除。<br>4. 使用者儲存或發布日記時,系統將每個關鍵字插入 diary_tags 表:<br>&nbsp;&nbsp;&nbsp;- tag_type = 'keyword'<br>&nbsp;&nbsp;&nbsp;- tag_value = 關鍵字內容<br>&nbsp;&nbsp;&nbsp;- diary_id = 當前日記 ID<br>5. 系統支援標籤自動完成功能,推薦使用者曾用過的關鍵字。 |
| **替代流程** | a. 若使用者未輸入關鍵字  系統不儲存任何 keyword 類型標籤,允許空關鍵字日記。<br>b. 若關鍵字超過 50 字元  系統截斷或提示「單一關鍵字不可超過 50 字」。<br>c. 若輸入重複關鍵字  系統自動去重,每個關鍵字僅儲存一次。 |
| **輔助說明** | 支援多關鍵字設定,無數量上限(建議 UI 限制 10 個以內)。關鍵字可用於搜尋功能(UC-1.8)、統計分析(UC-5.4)與個人化推薦。資料庫欄位:tag_value VARCHAR(50)。建議實作熱門標籤推薦功能。 |
| **Screen 畫面** | 日記編輯頁(新增/編輯日記) |

---

[ 回到索引](../README.md)
